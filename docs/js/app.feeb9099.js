(function(t){function e(e){for(var a,i,r=e[0],c=e[1],d=e[2],u=0,m=[];u<r.length;u++)i=r[u],n[i]&&m.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/bug-log/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),n=s.n(a);n.a},"54eb":function(t,e,s){"use strict";var a=s("5ca2"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],i=(s("034f"),s("2877")),r={},c=Object(i["a"])(r,n,o,!1,null,null,null),d=c.exports,l=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("h1",{staticClass:"mt-4"},[t._v("HelpDesk")]),s("p",[t._v("Welcome to HelpDesk! Here you can submit your questions and recieve answers.")]),s("form",{staticClass:"centerthing",on:{submit:function(e){return e.preventDefault(),t.createBug(e)}}},[s("div",{staticClass:"form-group form-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.creator,expression:"data.creator"}],staticClass:"form-control w-50",attrs:{type:"text",placeholder:"username",required:""},domProps:{value:t.data.creator},on:{input:function(e){e.target.composing||t.$set(t.data,"creator",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],staticClass:"form-control w-50",attrs:{type:"text",placeholder:"ticket title",required:""},domProps:{value:t.data.title},on:{input:function(e){e.target.composing||t.$set(t.data,"title",e.target.value)}}})]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.description,expression:"data.description"}],staticClass:"form-control w-50 mb-2",attrs:{cols:"80",rows:"2",placeholder:"describe the issue",required:""},domProps:{value:t.data.description},on:{input:function(e){e.target.composing||t.$set(t.data,"description",e.target.value)}}}),s("button",{staticClass:"btn btn-success mb-3",attrs:{type:"submit"}},[t._v("Submit Ticket")])]),t._m(0),s("div",{staticClass:"centerthing"},[t.showform?t._e():s("button",{staticClass:"btn btn-secondary mt-3",on:{click:function(e){t.filter(),t.showform=!t.showform}}},[t._v("View Active\n      Tickets")]),t.showform?s("button",{staticClass:"btn btn-secondary mt-3",on:{click:function(e){t.getBugs(),t.showform=!t.showform}}},[t._v("View All\n      Tickets")]):t._e(),s("table",{staticClass:"table mt-1"},[t._m(1),s("tbody",t._l(t.bugs,function(e){return s("tr",{staticClass:" pointer",class:{"table-success":e.closed,"table-danger":!e.closed},on:{click:function(s){return t.setActiveBug(e)}}},[s("td",{attrs:{scope:"row"}},[t._v(t._s(t._f("createdAtTransform")(e.createdAt)))]),s("th",[t._v(t._s(e.title))]),s("td",[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(e.creator))]),s("td",[t._v(t._s(e.closed?"Closed":"Active"))])])}),0)])])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("hr")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-dark"},[s("tr",{staticClass:"table-active"},[s("th",{attrs:{scope:"col"}},[t._v("Created")]),s("th",{attrs:{scope:"col"}},[t._v("Title")]),s("th",{attrs:{scope:"col"}},[t._v("Posted By")]),s("th",{attrs:{scope:"col"}},[t._v("Status")])])])}],p={name:"home",mounted(){this.$store.dispatch("getBugs")},data(){return{data:{description:"",title:"",creator:"",user:"Clair"},showform:!1}},components:{},filters:{createdAtTransform:function(t){let e="",s=t.split("");for(let r=0;r<8;r++)s.pop();s[10]=" ";let a=s.join("").split(" ");e+=a[0];for(let r=0;r<8;r++)s.pop();s[10]=" ";let n=a[1].split(":"),o=Number(n[0]),i=n[1];return o<=12?e+=" "+o.toString()+":"+i+"am":o>12&&(e+=" at "+(o-12).toString()+":"+i+"pm"),e}},computed:{bugs(){return this.$store.state.bugs}},methods:{createBug(){this.$store.dispatch("newBug",this.data)},setActiveBug(t){this.$store.dispatch("setActiveBug",t)},filter(){this.$store.dispatch("filterBugs")},getBugs(){this.$store.dispatch("getBugs")}}},g=p,h=(s("54eb"),Object(i["a"])(g,u,m,!1,null,"4b9253e4",null)),f=h.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"specs container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 offset-2 text-left"},[s("button",{staticClass:"btn btn-info my-3",on:{click:t.goBack}},[s("i",{staticClass:"far fa-arrow-alt-circle-left"}),t._v(" Back")]),s("div",{staticClass:"card text-center "},[s("div",{staticClass:"card-header d-flex justify-content-between"},[s("h2",[t._v(t._s(t.activeBug.title))]),s("span",[s("button",{staticClass:"btn btn-danger",class:{disabled:t.activeBug.closed},on:{click:function(e){return t.deleteBug()}}},[s("i",{staticClass:"fas fa-trash-alt"})]),s("button",{staticClass:"btn btn-secondary ml-1",class:{disabled:t.activeBug.closed},on:{click:function(e){t.showform=!t.showform}}},[s("i",{staticClass:"far fa-edit"})])])]),s("div",{staticClass:"card-body text-left"},[s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(t.activeBug.creator))]),t.showform?t._e():s("p",{staticClass:"card-text"},[t._v("\n            "+t._s(t.activeBug.description)+"\n            "),t.activeBug.closed?s("span",{staticClass:"greentext"},[t._m(0)]):t._e()]),t.showform?s("form",{staticClass:"form-inline centerthing",on:{submit:function(e){return e.preventDefault(),t.editBug()}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data2.description,expression:"data2.description"}],staticClass:"form-control",attrs:{cols:"60",rows:"2",placeholder:"description"},domProps:{value:t.data2.description},on:{input:function(e){e.target.composing||t.$set(t.data2,"description",e.target.value)}}}),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Submit")])]):t._e()]),0==t.activeBug.closed?s("div",{staticClass:"card-footer text-muted"},[s("h5",[t._v("Submit a comment:")]),s("form",{staticClass:"form-inline centerthing",on:{submit:function(e){return e.preventDefault(),t.createComment()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.creator,expression:"data.creator"}],staticClass:"form-control",attrs:{type:"text",placeholder:"name",required:""},domProps:{value:t.data.creator},on:{input:function(e){e.target.composing||t.$set(t.data,"creator",e.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.content,expression:"data.content"}],staticClass:"form-control",attrs:{cols:"30",rows:"1",placeholder:"description",required:""},domProps:{value:t.data.content},on:{input:function(e){e.target.composing||t.$set(t.data,"content",e.target.value)}}}),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Submit")])])]):t._e()])])]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-8 offset-2"},t._l(t.comments,function(e){return s("div",{staticClass:"row my-2"},[s("div",{staticClass:"col-10 offset-1"},["rejected"==e.flagged?s("div",{staticClass:"card",staticStyle:{"background-color":"rgb(255, 221, 221)"}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(e.creator))]),s("p",{staticClass:"card-text"},[t._v(t._s(e.content)+"\n                ")]),s("hr"),t._v("\n                Status: "+t._s(e.flagged)+"\n              "),s("p"),s("button",{staticClass:"btn btn-outline-danger mx-2",on:{click:function(s){return t.deleteComment(e._id)}}},[t._v("Delete\n                Comment")]),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-secondary dropdown-toggle mx-2",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                  Change Status\n                ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changePending(e._id)}}},[t._v("Pending")]),s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changeCompleted(e._id)}}},[t._v("Completed")]),s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changeRejected(e._id)}}},[t._v("Rejected")])])])])]):"completed"==e.flagged?s("div",{staticClass:"card",staticStyle:{"background-color":"rgb(214, 255, 221)"}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(e.creator))]),s("p",{staticClass:"card-text"},[t._v(t._s(e.content)+"\n                ")]),s("hr"),t._v("\n                Status: "+t._s(e.flagged)+"\n              "),s("p"),s("button",{staticClass:"btn btn-outline-danger mx-2",on:{click:function(s){return t.deleteComment(e._id)}}},[t._v("Delete\n                Comment")]),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-secondary dropdown-toggle mx-2",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                  Change Status\n                ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changePending(e._id)}}},[t._v("Pending")]),s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changeCompleted(e._id)}}},[t._v("Completed")]),s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changeRejected(e._id)}}},[t._v("Rejected")])])])])]):s("div",{staticClass:"card",staticStyle:{"background-color":"rgb(253, 245, 218)"}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(e.creator))]),s("p",{staticClass:"card-text"},[t._v(t._s(e.content)+"\n                ")]),s("hr"),t._v("\n                Status: "+t._s(e.flagged)+"\n              "),s("p"),s("button",{staticClass:"btn btn-outline-danger mx-2",on:{click:function(s){return t.deleteComment(e._id)}}},[t._v("Delete\n                Comment")]),s("div",{staticClass:"btn-group",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-secondary dropdown-toggle mx-2",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                  Change Status\n                ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changePending(e._id)}}},[t._v("Pending")]),s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changeCompleted(e._id)}}},[t._v("Completed")]),s("a",{staticClass:"dropdown-item",on:{click:function(s){return t.changeRejected(e._id)}}},[t._v("Rejected")])])])])])])])}),0)])])},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("Ticket is Closed")])])}],C={name:"specs",mounted(){this.$store.state.activeBug._id||this.$store.dispatch("getBug",this.id),this.$store.dispatch("getComments",this.id)},props:["id"],data(){return{data:{content:"",creator:"",flagged:"pending",bug:this.id,user:"Clair"},showform:!1,data2:{description:""}}},computed:{activeBug(){return this.$store.state.activeBug},comments(){return this.$store.state.comments}},methods:{goBack(){this.$store.dispatch("goBack")},createComment(){this.$store.dispatch("createComment",this.data)},deleteComment(t){this.$store.dispatch("deleteComment",{bugId:this.id,commentId:t})},changePending(t){this.$store.dispatch("changePending",{bugId:this.id,commentId:t})},changeCompleted(t){this.$store.dispatch("changeCompleted",{bugId:this.id,commentId:t})},changeRejected(t){this.$store.dispatch("changeRejected",{bugId:this.id,commentId:t})},deleteBug(){this.$store.dispatch("deleteBug",this.id)},editBug(){this.showform=!this.showform,this.$store.dispatch("editBug",{description:this.data2,id:this.id})}},components:{}},_=C,w=(s("f70b"),Object(i["a"])(_,v,b,!1,null,null,null)),B=w.exports;a["a"].use(l["a"]);var y=new l["a"]({routes:[{path:"/",name:"home",component:f},{path:"/specs/:id",name:"specs",props:!0,component:B},{path:"*",redirect:f}]}),x=s("2f62"),k=s("bc3a"),$=s.n(k);let j=$.a.create({baseURL:"https://bcw-sandbox.herokuapp.com/api/Clair/bugs"});a["a"].use(x["a"]);var P=new x["a"].Store({state:{bugs:[],activeBug:{},comments:[]},mutations:{setBugs(t,e){t.bugs=e},setActiveBug(t,e){t.activeBug=e},setComments(t,e){t.comments=e}},actions:{getBugs({commit:t,dispatch:e}){j.get("").then(e=>{t("setBugs",e.data.results)})},getBug({commit:t,dispatch:e},s){j.get(s).then(t=>{e("setActiveBug",t.data.results)})},setActiveBug({commit:t,dispatch:e},s){t("setActiveBug",s),y.push({name:"specs",params:{id:s._id}})},newBug({commit:t,dispatch:e},s){j.post("",s).then(t=>{e("getBugs")})},goBack({commit:t,dispatch:e}){y.push({name:"home"})},getComments({commit:t,dispatch:e},s){j.get(s+"/notes").then(e=>{t("setComments",e.data.results)})},createComment({commit:t,dispatch:e},s){j.post(s.bug+"/notes",s).then(t=>{e("getComments",s.bug)})},deleteComment({commit:t,dispatch:e},s){j.delete(s.bugId+"/notes/"+s.commentId).then(t=>{e("getComments",s.bugId)})},changePending({commit:t,dispatch:e},s){j.put(s.bugId+"/notes/"+s.commentId,{flagged:"pending"}).then(t=>{e("getComments",s.bugId)})},changeCompleted({commit:t,dispatch:e},s){j.put(s.bugId+"/notes/"+s.commentId,{flagged:"completed"}).then(t=>{e("getComments",s.bugId)})},changeRejected({commit:t,dispatch:e},s){j.put(s.bugId+"/notes/"+s.commentId,{flagged:"rejected"}).then(t=>{e("getComments",s.bugId)})},deleteBug({commit:t,dispatch:e},s){j.delete(s).then(t=>{e("getBug",s)})},filterBugs({commit:t,dispatch:e}){j.get("").then(e=>{t("setBugs",e.data.results.filter(t=>0==t.closed))})},editBug({commit:t,dispatch:e},s){j.put(s.id,s.description).then(t=>{e("getBug",s.id)})}}});a["a"].config.productionTip=!1,new a["a"]({router:y,store:P,render:function(t){return t(d)}}).$mount("#app")},"5ca2":function(t,e,s){},"64a9":function(t,e,s){},f03b:function(t,e,s){},f70b:function(t,e,s){"use strict";var a=s("f03b"),n=s.n(a);n.a}});
//# sourceMappingURL=app.feeb9099.js.map